{"version":3,"file":"react-scroll-espionage.cjs.js","sources":["../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../src/index.js"],"sourcesContent":["function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport observeRect from '@reach/observe-rect';\n\nexport default class ScrollEspionage extends Component {\n  static propTypes = {\n    children: PropTypes.node,\n    detectEnd: PropTypes.bool,\n    nav: PropTypes.func,\n    selector: PropTypes.string.isRequired,\n    threshold: PropTypes.number,\n  };\n\n  static defaultProps = {\n    children: undefined,\n    detectEnd: false,\n    nav: () => null,\n    threshold: 0,\n  };\n\n  // Memoized container height, to prevent unnecessary recalcs\n  _lastH = -1;\n\n  // setTimeout placeholder\n  _lastRecalc = null;\n\n  // Ref for scrollspy\n  wrapper = React.createRef();\n\n  // Reference of observed element\n  observer = null;\n\n  state = {\n    current: -1,\n    positions: [],\n  };\n\n  componentDidMount() {\n    this.observe();\n    // Initialize (observer won’t fire on mount)\n    this.handleRecalc();\n    this.handleScroll(window.scrollY);\n  }\n\n  componentDidUpdate() {\n    this.observe();\n  }\n\n  componentWillUnmount() {\n    if (this.observer) this.observer.unobserve();\n  }\n\n  // Fires on window scroll, and reflow (images loading, resize, etc.)\n  observe = () => {\n    if (this.observer || !this.wrapper.current) return;\n    this.observer = observeRect(this.wrapper.current, this.handleChange);\n    this.observer.observe();\n  };\n\n  // Fires on every observation change. Determines what should update.\n  handleChange = ({ top, height }) => {\n    if (typeof window === 'undefined') return;\n    this.handleScroll(top);\n    if (!this.wrapper.current) return;\n    if (height > 0 && height !== this._lastH) {\n      this.handleRecalc();\n      this._lastH = height;\n\n      // After last recalculation, wait 500ms and re-fire.\n      // This fixes calc issues on longer pages when animationFrame skips.\n      clearTimeout(this._lastRecalc);\n      this._lastRecalc = setTimeout(() => this.handleRecalc(), 500);\n    }\n  };\n\n  // Handle height recalculation\n  handleRecalc = () => {\n    let elements = [];\n\n    if (this.props.selector) {\n      elements = this.wrapper.current.querySelectorAll(this.props.selector);\n    }\n\n    this.setState({\n      positions: [...elements]\n        .map(node => node.getBoundingClientRect().top + window.scrollY)\n        .sort((a, b) => a - b),\n    });\n  };\n\n  // Handle scroll event\n  handleScroll = top => {\n    // If detectEnd, highlight last item even if it doesn’t reach the top.\n    if (\n      this.props.detectEnd &&\n      Math.floor(this._lastH - window.scrollY - window.innerHeight) <= 1\n    ) {\n      this.setState(({ positions }) => ({\n        current: positions.length - 1,\n      }));\n      return;\n    }\n    // Find first section that is “too far,” then step back one.\n    // Infinity is added at the end so you can step back to the last index.\n    this.setState(({ positions }) => ({\n      current:\n        [...positions, Infinity].findIndex(\n          y => y - window.scrollY - this.props.threshold > 0,\n        ) - 1,\n    }));\n    this._lastY = top;\n  };\n\n  render() {\n    const {\n      children,\n      detectEnd,\n      nav,\n      selector,\n      threshold,\n      ...props\n    } = this.props;\n\n    return (\n      <div ref={this.wrapper} {...props}>\n        {nav({\n          current: this.state.current,\n          positions: this.state.positions,\n        })}\n        {children}\n      </div>\n    );\n  }\n}\n"],"names":["_typeof","ScrollEspionage","React","createRef","current","positions","observer","wrapper","observeRect","handleChange","observe","top","height","window","handleScroll","_lastH","handleRecalc","clearTimeout","_lastRecalc","setTimeout","elements","props","selector","querySelectorAll","setState","_toConsumableArray","map","node","getBoundingClientRect","scrollY","sort","a","b","detectEnd","Math","floor","innerHeight","length","Infinity","findIndex","y","threshold","_lastY","unobserve","children","nav","state","Component","PropTypes","bool","func","string","isRequired","number","undefined"],"mappings":"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"}